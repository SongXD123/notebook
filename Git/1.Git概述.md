# 1.Git概述

### 1.1 Git历史

Git 诞生于一个极富纷争大举创新的年代。Linux 内核开源项目有着为数众多的参与者（Git的产生和Linux内核有很大关系，Git和Linux作者是同一人）。 绝大多数的 Linux 内核维护工作都花在了提交补丁和保存归档的繁琐事务上（1991－2002年间）。 到 2002 年，整个项目组开始启用一个<u>**专有的分布式版本控制系统 BitKeeper**</u> 来管理和维护代码。

到了 2005 年，开发 BitKeeper 的商业公司同 Linux 内核开源社区的合作关系结束，他们收回了 Linux 内核社区免费使用 BitKeeper 的权力。 这就迫使 Linux 开源社区（特别是 Linux 的缔造者 Linus Torvalds）基于使用 BitKeeper 时的经验教训，开发出自己的版本系统。 



他们对新的系统制订了若干目标：

* 速度

* 简单的设计（设计和用户使用要足够简单）

* 对非线性开发模式的强力支持（允许成千上万个并行开发的分支）

* **完全分布式**（与SVN的最大区别）

* 有能力高效管理类似 Linux 内核一样的超大规模项目（速度和数据量）

### 1.2 Git与SVN对比

SVN是==集中式的版本控制系统==，版本库是集中放在中央服务器的（C/S结构软件），而开发人员工作时，用的都是自己的电脑，所有首先要从中央服务器下载最新的代码，然后开发，开发完后，需要把自己开发的代码提交到中央服务器。

![image-20210305190539471](D:\ProgramData\gitRepos\notebook\Git\images\image-20210305190539471.png)

集中式版本控制工具的缺点

* 服务器单点故障
* 容错性差（与第一个有关系，正是由于单点故障，所以一旦服务器出问题，整个工作环境就不可用了）



Git是==布式版本控制系统==（Distributed Version Control System，简称 ==DVCS==） ，分为两种类型的仓库：==本地仓库==和==远程仓库==。



* 本地仓库：是在开发人员自己电脑上的Git仓库

* 远程仓库：是在远程服务器上的Git仓库

![image-20210305191305721](D:\ProgramData\notes\images\image-20210305191305721.png)

图的解释;

* Commit命令：将代码提交到本地仓库，此时其他开发人员是看不到的
* PUSH命令：将本地仓库的代码==推送==（上传）到远程仓库
* PULL命令：从远程仓库==拉取==（下载）代码到本地

* Clone命令：将远程仓库==克隆==（复制）到本地



本地：可以进行版本管理（提交，查看日志，恢复数据）



### 1.3 Git工作流程



工作区：目前可以先认为是自己电脑上的文件夹

暂存区：



工作流程如下：

1. 从远程仓库中克隆代码到本地仓库
2. 从本地仓库中checkout（检出）代码然后进行修改（检出到工作区，目前可以先认为是自己电脑上的文件夹）
3. 在提交前需要先将代码提交到暂存区
4. 提交到本地仓库。本地仓库中保存修改的各个历史版本
5. 修改完成后，需要和团队成员共享代码时，将代码push到远程仓库、
6. CLONE操作只需要一次，之后如果想要从远程仓库下载代码，拉取(PULL)代码到工作区即可



![image-20210305191803488](D:\ProgramData\gitRepos\notebook\Git\images\image-20210305191803488.png)



### 1.4 Git安装与下载

* Git GUI：Git提供的图形界面工具
* Git Bash：Git提供的命令行工具



# 2. Git代码托管服务

### 2.1 常用的Git代码托管服务

前面我们已经知道了Git中存在两种类型的仓库，即本地仓库（自己电脑上的Git仓库）和远程仓库（远程服务器上的Git仓库）。那么我们如何搭建Git远程仓库呢？我们可以借助互联网上提供的一些==代码托管服务==来实现，其中比较常用的有GitHub、码云、GitLab等。



* **GitHub**：（ 地址：https://github.com/ ）是一个**面向开源及私有软件项目**的托管平台，因为**只支持Git** 作为唯一的版本库格式进行托管，故名GitHub
* **码云**：（地址： https://gitee.com/ ）是国内的一个代码托管平台，由于服务器在国内，所以相比于GitHub，码云速度会更快
* **GitLab**：（地址： https://about.gitlab.com/ ）是一个用于==仓库管理系统==的开源项目，使用Git作为代码管理工具，并在此基础上搭建起来的web服务

### 2.2 注册

### 登录并创建Git远程仓库

![image-20210306131114396](D:\ProgramData\gitRepos\notebook\Git\images\image-20210306131114396.png)

![image-20210306131159138](D:\ProgramData\gitRepos\notebook\Git\images\image-20210306131159138.png)

初始化仓库：

* 使用README文件初始化仓库
* 

创建完成

![image-20210306131435413](D:\ProgramData\gitRepos\notebook\Git\images\image-20210306131435413.png)

每个Git远程仓库都会对应一个网络地址：https://github.com/SongXD123/myRepo1.git

当前仓库为空

# 3.Git常用命令

本节有如下命令和概念

* 环境配置：通过Git相关命令

* 获取Git仓库

* 工作目录、暂存区以及版本库概念：

* Git工作目录下文件的两种状态：未跟踪状态、已跟踪状态

* 本地仓库操作

* 远程仓库的使用

* 分支

* 标签

### 3.1 环境配置

当安装Git后，首先要做的事情就是==设置用户名称和Email地址==（当前是谁）。这是非常重要的，因为每次Git提交都会使用该用户信息

注意：这里的用户名称和Email地址与远程仓库（码云、GitHub）是没有关系的，之前GitHub注册的用户名和地址是为了操作远程仓库，推送和克隆都需要GitHub账号；而这里只是设置个人信息，该个人信息不是用作认证的，只是标识你是谁，因此可以任意设置



* 设置用户信息
  * git config --global user.name "itcast"
    * global表示全局
  * git config --global user.email "hello@itcast.cn"
    * Email地址也会不进行校验，因此是可以任意写的
* 查看配置信息
  * git config --list
  * git config user.name
* 通过上面的命令设置的信息会保存在==~/.gitconfig==文件中

### 3.2 获取Git仓库

要使用Git对我们的代码进行版本控制，首先要获得Git仓库

获取Git仓库通常有两种方式

* 在本地初始化一个Git仓库
* 从远程仓库中克隆

#### 3.2.1 在本地初始化一个Git仓库

步骤如下：

* 在电脑的任意位置创建一个空目录（例如repo1）作为我们的本地Git仓库

*  进入这个目录中，点击右键打开Git bash窗口

* 执行命令git init

* 如果在当前目录中看到.git文件夹，说明创建成功

  ![image-20210306134224230](D:\ProgramData\gitRepos\notebook\Git\images\image-20210306134224230.png)

#### 3.2.2 从远程仓库克隆

可以通过Git提供的命令从远程仓库进行克隆，将远程仓库克隆到本地

命令形式为：git clone 远程Git仓库地址 

![image-20210306134525973](D:\ProgramData\gitRepos\notebook\Git\images\image-20210306134525973.png)

### 3.3 工作目录、暂存区以及版本库概念

**版本库**：前面看到的.git隐藏文件夹就是版本库，版本库中存储了很多==配置信息、日志文件和文件版本信息==

**工作目录（工作区）**：==包含,git文件夹的目录==就是工作目录，主要用于存放开发的代码

**暂存区**：.git文件夹中有很多文件，其中有一个==index文件（二进制文件）==就是暂存区，也可以叫做stage。暂存区是一个临时保存修改文件的地方，如要提交修改后的文件，前提是将修改的文件的改变存放到暂存区，只有从暂存区里面才能提交到版本库，让git进行版本管理

![image-20210306135426946](D:\ProgramData\gitRepos\notebook\Git\images\image-20210306135426946.png)

* git add：将改变的内容提交到暂存区
* git commit：将修改的内容提交到版本库

### 3.4 Git工作目录下文件的两种状态

Git工作目录下的文件存在两种状态：

* untracked未跟踪（未被纳入版本控制，没有被Git进行版本管理）
* tracked已跟踪（被纳入版本控制，被Git进行版本管理）
  * Unmodified：未修改状态
  * Modified：已修改状态
  * Staged：已暂存状态，修改完成后，只有通过git add将修改的文件添加到暂存区，才成为已修改状态
* 这些文件的状态会随着我们执行Git的命令发生改变

### 3.5 本地仓库操作

git status查看文件状态

![image-20210306140423257](D:\ProgramData\gitRepos\notebook\Git\images\image-20210306140423257.png)

* 当前处于main分支
* 已被跟踪但还未被修改的不会提示

也可以通过==git status -s==使输出更加简洁

![image-20210306140548106](D:\ProgramData\gitRepos\notebook\Git\images\image-20210306140548106.png)



git add将未跟踪的文件加入暂存区