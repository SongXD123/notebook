目标检测算法通常在输入图像中**采样大量区域**，决定这些区域是否包含目标物体，并**调整区域边界**以更加准确地预测目标真实的边界框。

有不同的区域采样方法，一种是：它以每个像素为中心，生成多个不同大小和宽高比的边界框。这些边界框称为锚框。我们将在下面的小节中练习基于锚框的对象检测。

## 1.生成多个锚框

假设输入图像高和宽为$h,w$，我们在每个像素生成不同形状的锚框。假设锚框大小$s\in(0,1]$，宽高比（aspect ratio）$r>0$，因此锚框的宽和高为$ws\sqrt{r}$，$hs\sqrt{r}$。

接下来设置一组大小$s_1,...,s_n$，以及一组宽高比$r_1,...,r_n$，在每个像素点使用大小和宽高比的所有组合生成锚框，总共有$whnm$个锚框。尽管这些锚框会覆盖所有真实的边界框，但计算复杂度大。因此，通常只对包含$s_1$或$r_1$的组合感兴趣。
$$
(s_1,r_1),(s_1,r_2),...,(s_1,r_m),(s_2,r_1),(s_3,r_1),...,(s_n,r_1)
$$


这样，一个像素点上锚框的数量为$n+m-1$。整个图像的锚框数为$wh(n+m-1)$。

